# 数据库
---
## 第一章 数据库概览
---
### 1.1数据管理技术的发展

#### 1.1.1数据、数据处理、数据管理
* 数据：描述客观事物的符号
* 数据处理： 数据采集、转换、组织、存储、运算、检索、分析和输出等。
* 数据管理： 数据手机、整理、组织、存储、检索和维护
#### 1.1.2利用计算机进行数据管理经历了三个阶段：
1. 人工管理阶段 （20世纪50年代以前） 
   * 数据不能长期保存
   * 采用应用程序管理数据，数据与程序结合在一起。与程序不具有独立性
   * 数据面向应用，一组数据对应一个程序，数据不共享。多个应用程序涉及相同数据时也须各自定义
2. 文件系统阶段（20世纪50年代后期至60年代中期）
   * 数据能够长期保存，可以反复对其查询、修改。
   * 由专门软件对数据进行管理，应用程序与数据之间由文件系统所提供的存取方法进行转换，程序与数据之间具有一定的独立性。
   * 但仍有很多不足：数据共享性差、冗余度大。数据独立性差。
   * 虽然文件系统记录内有结构，但文件之间仍旧独立，整体仍然是个无结构数据集合。
3. 数据库系统阶段（20世纪60年代后期）
   * 数据结构化
   * 数据共享性高、冗余度低、易于扩充
   * 数据独立性高
   * 数据统一管理与控制，DBMS（数据库管理系统）必须提供以下四个方面的数据控制功能。
     * 并发访问控制
     * 数据完整性检查
     * 数据安全性保护
     * 数据库恢复
#### 1.1.3 数据库系统发展
* 第一代数据库系统
  * 采用层次模型或网状模型
  * 导航式的操作语言
  * 格式化模型
* 第二代数据库系统
  * 支持关系数据模型和关系数据库系统
  * 特点
    * 概念单一，实体与实体之间的联系都用关系表示
    * 以关系代数为基础，形式化基础好
    * 数据独立性强，数据的物理存取路径对用户屏蔽
    * 关系数据语言实现了标准化：创建了SQL
### 1.2 理解数据库系统
---
#### 1. 数据库系统概念

* 数据库系统（DateBase System, DBS）是指带有数据库并利用数据库技术进行数据管理的计算机系统。
* 数据库系统一般由数据库、数据库管理系统、数据库管理员、数据库应用系统和用户等组成。

#### 2.数据库系统的组成

**数据库**
* 数据库时构成数据库系统的基础，具有集成性和共享性。
* 数据库是长期存储在计算机内的、有组织的、可共享的数据集合。

**数据库的软件系统**
* 数据库的软件系统包括操作系统、数据库管理系统（及其应用开发工具）、数据库应用系统。
* 数据库管理系统时数据库系统的核心软件

**数据库系统的人员**
* 数据库管理员（DBA）
* 系统分析员和数据库设计人员
* 应用程序员
* 用户 （End User）

### 1.3 数据库体系结构
----
#### 数据库系统的三级模式及结构
**概述**
* 数据库系统的三级模式结构是指外模式、模式和内模式
![](.\image\三级模式.png)

**模式**
* 又称逻辑模式/概念模式
* 是面向所有用户的公共数据视图，全局视图
* 一个数据库只有一个模式
* 在定义模式时，不仅要定义数据的逻辑结构，而且要定义数据之间的联系。

**外模式**
* 又称子模式\用户模式
* 面向应用，是数据库用户所能使用局部数据的逻辑结构和特征的描述
* 一个数据库可以有多个外模式
* 是数据库用户的数据视图

**内模式**
* 又称存储模式
* 描述数据的物理结构和存储方式。
* 一个数据库只有一个内模式。
  
#### 数据库的二级映像

**二级映像**

* 外模式/模式映像
  * 定义了该外模式与模式的对应关系
  * 保证了数据的独立性
* 内模式、模式映像
  * 唯一的
  * 定义了数据库全局逻辑结构与存储结构之间的对应关系。
  * 保证了数据库的物理独立性

**数据库系统的三级模式与二级映像有以下优点：**

* 保证数据独立性
* 有利于数据共享，减少数据冗余
* 有利于数据的安全性
* 简化用户接口
 
#### 数据库管理系统

**数据库管理系统功能**
* 有效地组织、存取和维护数据
* 数据定义功能（DDL语言，定义）
* 数据操纵功能（DML语言，增删改修）
* 数据库的事务管理和运行管理（DCL语言，安全性保护、完整性检查……）
* 数据库的建立和维护功能
* 其他功能
  
### 1.4 数据模型
---
#### 概念
* 数据模型是一种抽象模型，是对现实世界数据特征的抽象。为数据库系统的信息表是和操作提供必须的抽象框架。
  

  ```flow
  st=>operation: 现实世界
  i=>operation: 认识抽象
  1=>operation: 概念数据模型
  2=>operation: 逻辑数据模型
  3=>operation: 物理数据模型
  st->i->1->2->3
  ```
####  概念数据模型

**ER模型三要素**
* 实体(Entity)
* 属性(Attribute)
* 联系(Relationship)

**实体型、实体值和实体集**

* 实体型：对某类数据结构和特征的描述。
* 实体值：实体的内容，描述实体的各个属性值组成
* 实体集：具有相同实体型的若干实体构成的集合

**联系的分类**

* 一对一联系(1:1)
* 一对多联系(1:n)
* 多对多联系(m:n)
  
#### ER模型

**ER图：**
* 实体：矩形
* 实体的属性：椭圆
* 联系：菱形（用数字标明联系类型）
* 连接：无向线段

  例：
![](.\image\E-R图.png)

#### 逻辑数据模型

**数据模型三要素**
* 数据结构
* 数据操作
* 数据完整性约束

**数据模型的类型**
* 自数据库技术产生以来，先后出现了了层次模型、网状模型、关系数据模型面向对象模型、对象关系数据模型等数据模型
* 格式化模型（淘汰）：层次模型、网状模型

**关系数据模型**
* 建立在严格的数学理论基础之上
* 数据结构简单清晰
* 数据物理存取路径对用户是透明的，有更高的数据独立性和更好的数据安全性。